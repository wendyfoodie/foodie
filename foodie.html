<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>FOODIE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#ffeef2;
  transition:.3s;
}

body.dark{
  background:#8f2d56;
  color:white;
}

header{
  background:#ff6f91;
  color:white;
  padding:15px;
  text-align:center;
  font-size:20px;
  position:relative;
}

#aguaIcono{
  position:absolute;
  right:15px;
  top:12px;
  cursor:pointer;
}

.container{
  padding:20px;
  text-align:center;
}

input,select{
  padding:10px;
  margin:5px;
  border-radius:10px;
  border:1px solid #ccc;
}

button{
  padding:12px 16px;
  margin:6px;
  border:none;
  border-radius:20px;
  background:#ffb6c1;
  cursor:pointer;
  transition:.2s;
}

.main-btn{
  background:#ff4d6d;
  color:white;
}

.selected{
  background:#ff4d6d!important;
  color:white;
  transform:scale(1.05);
}

.hidden{display:none;}

.card{
  background:white;
  color:black;
  padding:15px;
  border-radius:15px;
  margin:10px 0;
}

body.dark .card{
  background:#b23a6f;
  color:white;
}

.top-app{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.msg{
  font-size:14px;
  text-align:left;
  max-width:70%;
}

.icon{
  font-size:22px;
  cursor:pointer;
}
.config-text{
  text-align:center;
  font-size:14px;
  line-height:1.6;
}

</style>
</head>

<body>

<header>
  FOODIE ğŸ“
  <span id="aguaIcono" onclick="abrirAgua()">ğŸ’§</span>
</header>

<!-- REGISTRO -->
<div class="container" id="registro">
  <h2>RegÃ­strate</h2>
  <input id="nombre" placeholder="Nombre">
  <input id="numero" placeholder="NÃºmero">
  <input id="edad" placeholder="Edad">
  <select id="genero">
    <option value="">GÃ©nero</option>
    <option>Mujer</option>
    <option>Hombre</option>
    <option>Otro</option>
  </select><br>
  <button class="main-btn" onclick="entrar()">Entrar</button>
</div>

<!-- APP COMIDA -->
<div class="container hidden" id="app">

  <div class="top-app">
    <div class="msg card">
      Hoy mereces cuidarte y escucharte.<br>
      Comer bien tambiÃ©n es amor propio.
    </div>
    <div style="display:flex; gap:10px;">
      <div class="icon" onclick="abrirConfig()">âš™ï¸</div>
      <div class="icon" onclick="abrirTareas()">ğŸ“</div>
    </div>
  </div>

  <h2 id="saludo"></h2>

  <h3>Â¿CÃ³mo te sientes?</h3>
  <button class="mood" onclick="selMood(this,'feliz')">ğŸ˜Š Feliz</button>
  <button class="mood" onclick="selMood(this,'neutro')">ğŸ˜ Neutro</button>
  <button class="mood" onclick="selMood(this,'triste')">ğŸ˜¢ Triste</button>

  <h3>Â¿QuÃ© quieres comer?</h3>
  <button class="food" onclick="selFood(this,'desayuno')">Desayuno</button>
  <button class="food" onclick="selFood(this,'comida')">Comida</button>
  <button class="food" onclick="selFood(this,'cena')">Cena</button>
  <button class="food" onclick="selFood(this,'snack')">Snack</button>

  <br>
  <button class="main-btn" onclick="recomendar()">Recomendar</button>

  <div id="resultado"></div>
</div>

<!-- HIDRATACIÃ“N -->
<div class="container hidden" id="aguaApp">
  <h2>HidrataciÃ³n ğŸ’§</h2>

  <div class="card">
    <h4>Consejos</h4>
    <ul>
      <li>Bebe agua al despertar</li>
      <li>Lleva tu botella</li>
      <li>Agrega fruta al agua</li>
      <li>Evita refrescos</li>

      <li>Toma agua todas las noches</li>
      <li>Pon atencion en el color de tu orina</li>
      <li>Lleva agua siempre a la escuela</li>
      <li>Evita tomar mucho cafecito</li>

      <li>Toma de atraguitos</li>
      <li>No te esperes hasta que tengas sed</li>
      <li>Minimo toma 3 vasos de agua al dia</li>
      <li>Si haces muchi ejercicio tomas mucha agua, No tomes power es mejor tomar agua</li>
    </ul>
  </div>

  <div class="card">
    ğŸ’§ Agua: <span id="agua">0</span><br>
    <button onclick="sumar('agua')">+1</button><br><br>

    â˜• CafÃ©: <span id="cafe">0</span><br>
    <button onclick="sumar('cafe')">+1</button><br><br>

    ğŸ§ƒ Jugo: <span id="jugo">0</span><br>
    <button onclick="sumar('jugo')">+1</button><br><br>

    ğŸ¥¤ Soda: <span id="soda">0</span><br>
    <button onclick="sumar('soda')">+1</button>
  </div>

  <button class="main-btn" onclick="volverComida()">â¬… Volver</button>
</div>

<!-- CONFIG -->
<div class="container hidden" id="config">
  <h2>ConfiguraciÃ³n âš™ï¸</h2>

  <div class="card">
    <button onclick="toggleDark()">Modo oscuro ğŸŒ™</button>
    <p><strong>VersiÃ³n:</strong> 1.0.2</p>
  </div>

  <div class="card config-text">
    Esta aplicaciÃ³n te ayuda a que tengas un Ã¡nimo mejor y no solo eso,  
    tambiÃ©n puedes registrar quÃ© tanto tomas agua, jugo, cafÃ© y soda  
    en todo el aÃ±o y ver quÃ© es lo que tomas mÃ¡s para que el prÃ³ximo aÃ±o  
    mejores con tu bonita salud, lo mejor de todo es que es para casi todas
    las edades, si tienes mas de 15 eres super bienvenida en esta hermosa y 
    nueva aplicacion, esta app es para tiii .  
    <br><br>
    Es una aplicaciÃ³n fÃ¡cil de usar y de comprender.
  </div>

  <button class="main-btn" onclick="volverApp()">â¬… Volver</button>
</div>

<!-- LISTA DE TAREAS -->
<div class="container hidden" id="tareasApp">
  <h2>Lista de Tareas Diarias ğŸ“</h2>

  <div class="card" id="listaTareas">
    <label><input type="checkbox" class="tarea"> Tender mi cama</label><br>
    <label><input type="checkbox" class="tarea"> Hacer ejercicio</label><br>
    <label><input type="checkbox" class="tarea"> Hacer tarea</label><br>
    <label><input type="checkbox" class="tarea"> BaÃ±arte</label><br>
    <label><input type="checkbox" class="tarea"> Limpiar mi habitaciÃ³n</label><br>
    <label><input type="checkbox" class="tarea"> Estudiar</label><br>
    <label><input type="checkbox" class="tarea"> Ver alguna pelÃ­cula o serie</label><br>
  </div>

  <input type="text" id="nuevaTarea" placeholder="Agregar nueva tarea">
  <button onclick="agregarTarea()">â• Agregar</button>

  <div id="mensajeTareas" style="margin-top:10px; font-weight:bold;"></div>

  <button class="main-btn" onclick="volverApp()">â¬… Volver</button>
</div>

<script>
let mood = "";
let food = "";

function entrar(){
  if(!nombre.value || !edad.value || !genero.value){
    alert("Completa todos los campos");
    return;
  }

  if(parseInt(edad.value) < 15){
    alert("Esta aplicaciÃ³n es solo para personas de 15 aÃ±os en adelante");
    return;
  }

  registro.classList.add("hidden");
  app.classList.remove("hidden");
  saludo.innerText = "Hola " + nombre.value + " ğŸ’–";
}

function selMood(btn,val){
  mood = val;
  document.querySelectorAll(".mood").forEach(b=>b.classList.remove("selected"));
  btn.classList.add("selected");
}

function selFood(btn,val){
  food = val;
  document.querySelectorAll(".food").forEach(b=>b.classList.remove("selected"));
  btn.classList.add("selected");
}

/* ğŸ”§ AQUÃ ESTÃ EL ARREGLO BIEN HECHO */
function recomendar(){
  let texto = "Selecciona cÃ³mo te sientes y quÃ© quieres comer ğŸ˜Š";

  if(mood=="feliz" && food=="desayuno") texto="Hotcakes con fruta ğŸ“";
  else if(mood=="feliz" && food=="comida") texto="Pasta ligera ğŸ";
  else if(mood=="feliz" && food=="cena") texto="Ensalada fresca ğŸ¥—";
  else if(mood=="feliz" && food=="snack") texto="Fruta o palomitas ğŸ¿";

  else if(mood=="neutro" && food=="desayuno") texto="Huevito con pan ğŸ³";
  else if(mood=="neutro" && food=="comida") texto="Arroz con pollo ğŸš";
  else if(mood=="neutro" && food=="cena") texto="SÃ¡ndwich ğŸ¥ª";
  else if(mood=="neutro" && food=="snack") texto="Galletas integrales ğŸª";

  else if(mood=="triste" && food=="desayuno") texto="Pan con chocolate â˜•";
  else if(mood=="triste" && food=="comida") texto="Sopita caliente ğŸ²";
  else if(mood=="triste" && food=="cena") texto="PurÃ© con pollo ğŸ—";
  else if(mood=="triste" && food=="snack") texto="Algo dulce ğŸ«";

  resultado.innerHTML = `<div class="card">${texto}</div>`;
}

function abrirAgua(){app.classList.add("hidden");aguaApp.classList.remove("hidden");}
function volverComida(){aguaApp.classList.add("hidden");app.classList.remove("hidden");}
function abrirConfig(){app.classList.add("hidden");config.classList.remove("hidden");}
function volverApp(){config.classList.add("hidden");app.classList.remove("hidden");}
function toggleDark(){document.body.classList.toggle("dark");}
function sumar(id){document.getElementById(id).innerText++;}

/* ğŸ”¹ FUNCIONES NUEVAS: LISTA DE TAREAS */
function abrirTareas(){
  app.classList.add("hidden");
  tareasApp.classList.remove("hidden");
  cargarTareas();
}

function agregarTarea(){
  const input = document.getElementById("nuevaTarea");
  if(input.value.trim() === "") return;
  const label = document.createElement("label");
  label.innerHTML = `<input type="checkbox" class="tarea"> ${input.value}`;
  document.getElementById("listaTareas").appendChild(label);
  document.getElementById("listaTareas").appendChild(document.createElement("br"));
  input.value = "";
  guardarTareas();
}

function cargarTareas(){
  const tareas = document.querySelectorAll(".tarea");
  tareas.forEach(t => t.addEventListener("change", revisarTareas));
}

function revisarTareas(){
  const tareas = document.querySelectorAll(".tarea");
  let todas = true;
  tareas.forEach(t => {
    if(!t.checked) todas = false;
  });
  const mensaje = document.getElementById("mensajeTareas");
  if(todas && tareas.length>0){
    mensaje.innerText = "Â¡Estoy muy orgullosa de tu logro del dÃ­a de hoy, te espero maÃ±ana! ğŸ’–";
  } else {
    mensaje.innerText = "";
  }
}

// Guardar y cargar tareas cada 24h
function guardarTareas(){
  const tareas = [];
  document.querySelectorAll(".tarea").forEach(t=>{
    tareas.push({texto: t.parentNode.innerText.trim(), done: t.checked});
  });
  localStorage.setItem("tareasFOODIE", JSON.stringify(tareas));
  localStorage.setItem("tareasTime", Date.now());
}

function cargarTareasLocal(){
  const savedTime = localStorage.getItem("tareasTime");
  if(savedTime && (Date.now() - savedTime > 24*60*60*1000)){
    localStorage.removeItem("tareasFOODIE");
    localStorage.removeItem("tareasTime");
  }
  const tareas = JSON.parse(localStorage.getItem("tareasFOODIE") || "[]");
  const lista = document.getElementById("listaTareas");
  lista.innerHTML = "";
  tareas.forEach(t => {
    const label = document.createElement("label");
    label.innerHTML = `<input type="checkbox" class="tarea" ${t.done ? "checked" : ""}> ${t.texto}`;
    lista.appendChild(label);
    lista.appendChild(document.createElement("br"));
  });
  cargarTareas();
}

window.addEventListener("load", cargarTareasLocal);
window.addEventListener("beforeunload", guardarTareas);

</script>

</body>
</html>
